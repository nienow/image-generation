"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkimage_generation"] = self["webpackChunkimage_generation"] || []).push([["src_bootstrap_tsx"],{

/***/ "./src/App.tsx":
/*!*********************!*\
  !*** ./src/App.tsx ***!
  \*********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var solid_js_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! solid-js/web */ \"./node_modules/solid-js/web/dist/dev.js\");\n/* harmony import */ var solid_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! solid-js */ \"./node_modules/solid-js/dist/dev.js\");\n/* harmony import */ var styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styles */ \"./src/styles.ts\");\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.scss */ \"./src/index.scss\");\n/* harmony import */ var _Samples__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Samples */ \"./src/Samples.tsx\");\n\n\n\n\n\n\n\nconst _tmpl$ = /*#__PURE__*/(0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.template)(`<div style=\"text-align: center\"><h1>AI Stable Diffusion Image Generator</h1><h3>Optimized for different graphic styles</h3><div><span>Style: </span><select></select></div><div><textarea rows=\"3\" cols=\"80\" placeholder=\"Enter a prompt...\"></textarea></div><div></div><div style=\"margin: 50px 0;\"><div></div></div></div>`, 22),\n  _tmpl$2 = /*#__PURE__*/(0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.template)(`<option></option>`, 2),\n  _tmpl$3 = /*#__PURE__*/(0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.template)(`<button>Generate</button>`, 2),\n  _tmpl$4 = /*#__PURE__*/(0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.template)(`<div><img></div>`, 3);\n\n\n\n\nconst STATUS = {\n  0: '',\n  1: 'Generating...',\n  2: 'Loading the model. This can take a minute...',\n  3: 'An error occurred. This happens sometimes. Please try again later.',\n  4: 'Rate limit reached. Please try again later.'\n};\nconst App = () => {\n  const [text, setText] = (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createSignal)('A futuristic city');\n  const [style, setStyle] = (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createSignal)(styles__WEBPACK_IMPORTED_MODULE_1__.AI_STYLES[0]);\n  const [status, setStatus] = (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createSignal)(0);\n  const [src, setSrc] = (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createSignal)(null);\n  const generate = async (retries = 0) => {\n    try {\n      setStatus(status() ? status() : 1);\n      const response = await fetch(`https://api-inference.huggingface.co/models/${style().model}`, {\n        method: 'POST',\n        body: JSON.stringify({\n          inputs: style().format(text())\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const blob = await response.blob();\n        setSrc(() => URL.createObjectURL(blob));\n        setStatus(0);\n      } else if (response.status === 429) {\n        setStatus(4);\n      } else if (response.status === 503) {\n        const json = await response.json();\n        if (retries < 20) {\n          setStatus(2);\n          // model is loading...\n          setTimeout(() => {\n            generate(retries + 1);\n          }, json.estimated_time * 1000);\n        } else {\n          setStatus(3);\n        }\n      } else {\n        setStatus(3);\n      }\n    } catch (e) {\n      setStatus(3);\n    }\n  };\n  const updateInput = e => {\n    setText(() => e.target.value);\n  };\n  const updateSelect = e => {\n    setStyle(styles__WEBPACK_IMPORTED_MODULE_1__.AI_STYLES.find(item => item.name === e.target.value));\n  };\n  return (() => {\n    const _el$ = _tmpl$.cloneNode(true),\n      _el$2 = _el$.firstChild,\n      _el$3 = _el$2.nextSibling,\n      _el$4 = _el$3.nextSibling,\n      _el$5 = _el$4.firstChild,\n      _el$6 = _el$5.nextSibling,\n      _el$7 = _el$4.nextSibling,\n      _el$8 = _el$7.firstChild,\n      _el$9 = _el$7.nextSibling,\n      _el$10 = _el$9.nextSibling,\n      _el$11 = _el$10.firstChild;\n    _el$6.addEventListener(\"change\", updateSelect);\n    (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.insert)(_el$6, () => styles__WEBPACK_IMPORTED_MODULE_1__.AI_STYLES.map(a => (() => {\n      const _el$12 = _tmpl$2.cloneNode(true);\n      (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.insert)(_el$12, () => a.name);\n      return _el$12;\n    })()));\n    _el$8.addEventListener(\"change\", updateInput);\n    (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.insert)(_el$9, (() => {\n      const _c$ = (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createMemo)(() => !!(status() < 1 || status() > 2));\n      return () => _c$() && (() => {\n        const _el$13 = _tmpl$3.cloneNode(true);\n        _el$13.$$click = () => generate();\n        return _el$13;\n      })();\n    })());\n    (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.insert)(_el$11, () => STATUS[status()]);\n    (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.insert)(_el$10, (() => {\n      const _c$2 = (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createMemo)(() => !!(src && !status()));\n      return () => _c$2() && (() => {\n        const _el$14 = _tmpl$4.cloneNode(true),\n          _el$15 = _el$14.firstChild;\n        (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createRenderEffect)(() => (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.setAttribute)(_el$15, \"src\", src()));\n        return _el$14;\n      })();\n    })(), null);\n    (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.insert)(_el$, (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createComponent)(_Samples__WEBPACK_IMPORTED_MODULE_3__.Samples, {}), null);\n    (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createRenderEffect)(() => _el$6.value = style().name);\n    (0,solid_js__WEBPACK_IMPORTED_MODULE_4__.createRenderEffect)(() => _el$8.value = text());\n    return _el$;\n  })();\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n(0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.delegateEvents)([\"click\"]);\n\n//# sourceURL=webpack://image-generation/./src/App.tsx?");

/***/ }),

/***/ "./src/Samples.tsx":
/*!*************************!*\
  !*** ./src/Samples.tsx ***!
  \*************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Samples\": function() { return /* binding */ Samples; }\n/* harmony export */ });\n/* harmony import */ var solid_js_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! solid-js/web */ \"./node_modules/solid-js/web/dist/dev.js\");\n/* harmony import */ var solid_js_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! solid-js/web */ \"./node_modules/solid-js/dist/dev.js\");\n\n\n\n\nconst _tmpl$ = /*#__PURE__*/(0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.template)(`<div style=\"border-top: 1px solid #ccc\"><h1>Samples</h1><div style=\"display: flex; flex-wrap: wrap; justify-content: center\"></div></div>`, 6),\n  _tmpl$2 = /*#__PURE__*/(0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.template)(`<div style=\"padding: 10px;\"><div></div><div></div><img></div>`, 7);\nconst SAMPLES = [{\n  style: 'Inkpunk',\n  prompt: 'Irish Wolfhound',\n  src: 'https://storage.googleapis.com/randombits/images/inkpunk1.jfif'\n}, {\n  style: 'Inkpunk',\n  prompt: 'Bedroom at dusk',\n  src: 'https://storage.googleapis.com/randombits/images/inkpunk2.jfif'\n}, {\n  style: 'Anime',\n  prompt: 'Girl in coffeeshop, red hair, reading',\n  src: 'https://storage.googleapis.com/randombits/images/anime1.jfif'\n}, {\n  style: 'Highly Detailed',\n  prompt: 'Cat face',\n  src: 'https://storage.googleapis.com/randombits/images/detailed1.jfif'\n}];\nconst Samples = () => {\n  return (() => {\n    const _el$ = _tmpl$.cloneNode(true),\n      _el$2 = _el$.firstChild,\n      _el$3 = _el$2.nextSibling;\n    (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.insert)(_el$3, () => SAMPLES.map(s => (() => {\n      const _el$4 = _tmpl$2.cloneNode(true),\n        _el$5 = _el$4.firstChild,\n        _el$6 = _el$5.nextSibling,\n        _el$7 = _el$6.nextSibling;\n      (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.insert)(_el$5, () => s.style);\n      (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.insert)(_el$6, () => s.prompt);\n      (0,solid_js_web__WEBPACK_IMPORTED_MODULE_1__.createRenderEffect)(() => (0,solid_js_web__WEBPACK_IMPORTED_MODULE_0__.setAttribute)(_el$7, \"src\", s.src));\n      return _el$4;\n    })()));\n    return _el$;\n  })();\n};\n\n//# sourceURL=webpack://image-generation/./src/Samples.tsx?");

/***/ }),

/***/ "./src/bootstrap.tsx":
/*!***************************!*\
  !*** ./src/bootstrap.tsx ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var solid_js_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! solid-js/web */ \"./node_modules/solid-js/dist/dev.js\");\n/* harmony import */ var solid_js_web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! solid-js/web */ \"./node_modules/solid-js/web/dist/dev.js\");\n/* harmony import */ var App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! App */ \"./src/App.tsx\");\n\n\n\nif (!window.customElements.get('randombits-diffusion')) {\n  class ExternalApp extends HTMLElement {\n    connectedCallback() {\n      (0,solid_js_web__WEBPACK_IMPORTED_MODULE_1__.render)(() => (0,solid_js_web__WEBPACK_IMPORTED_MODULE_2__.createComponent)(App__WEBPACK_IMPORTED_MODULE_0__[\"default\"], {}), this);\n    }\n  }\n  window.customElements.define('randombits-diffusion', ExternalApp);\n}\n\n//# sourceURL=webpack://image-generation/./src/bootstrap.tsx?");

/***/ }),

/***/ "./src/styles.ts":
/*!***********************!*\
  !*** ./src/styles.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AI_STYLES\": function() { return /* binding */ AI_STYLES; }\n/* harmony export */ });\nconst AI_STYLES = [{\n  name: 'Inkpunk',\n  model: 'Envvi/Inkpunk-Diffusion',\n  format: text => `${text} | nvinkpunk | vivid colors`\n}, {\n  name: 'Anime',\n  model: 'eimiss/EimisAnimeDiffusion_1.0v',\n  format: text => `${text}`\n}, {\n  name: 'Highly Detailed',\n  model: 'runwayml/stable-diffusion-v1-5',\n  format: text => `picture of a ${text}, intricate, elegant, highly detailed, octane render, hyper-realistic, digital painting, artstation, concept art, fantasy art, gaming, smooth, sharp focus, illustration, 3D render`\n}\n// {\n//   name: 'Anime',\n//   model: 'hakurei/waifu-diffusion',\n//   format: (text) => `${text}`\n// },\n];\n\n//# sourceURL=webpack://image-generation/./src/styles.ts?");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/index.scss":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/index.scss ***!
  \*****************************************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"select, input, textarea {\\n  margin: 10px;\\n  padding: 8px 10px;\\n  outline: none;\\n  border: 1px solid #ccc;\\n  border-radius: 0;\\n}\\n\\nbutton {\\n  background-color: white;\\n  border: 1px solid #ccc;\\n  padding: 10px 20px;\\n  cursor: pointer;\\n}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://image-generation/./src/index.scss?./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js");

/***/ }),

/***/ "./src/index.scss":
/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./index.scss */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/index.scss\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://image-generation/./src/index.scss?");

/***/ })

}]);